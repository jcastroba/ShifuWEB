import{c as m,j as e,X as b,b as g,a as c}from"./x.D2Z88nwF.js";import"./index.eCxJ45ll.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],j=m("AlignLeft",h);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],x=m("Coffee",p);function y({shift:r,onClose:n}){if(!r)return null;const l=s=>s?new Date(s).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-",t=s=>{if(!s)return"00:00:00";const a=Math.floor(s/1e3),o=Math.floor(a/3600),i=Math.floor(a%3600/60),d=a%60;return`${o}h ${i}m ${d}s`};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 font-roboto",children:e.jsxs("div",{className:"bg-surface dark:bg-secondary-dark rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-fade-in transition-colors duration-300",children:[e.jsxs("div",{className:"bg-secondary-dark text-white p-6 flex justify-between items-start sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-lilita",children:"Detalle del Turno"}),r.nickname&&e.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:["Usuario: ",e.jsx("span",{className:"font-bold text-white",children:r.nickname})," (@",r.username,")"]})]}),e.jsx("button",{onClick:n,className:"text-gray-300 hover:text-white transition-colors",children:e.jsx(b,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-background dark:bg-gray-800 p-4 rounded-lg border border-border-color",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary-dark dark:text-primary mb-2",children:[e.jsx(g,{size:20}),e.jsx("h3",{className:"font-bold",children:"Inicio"})]}),e.jsx("p",{className:"text-text-main font-mono",children:l(r.start_time)})]}),e.jsxs("div",{className:"bg-background dark:bg-gray-800 p-4 rounded-lg border border-border-color",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary-dark dark:text-primary mb-2",children:[e.jsx(c,{size:20}),e.jsx("h3",{className:"font-bold",children:"Fin"})]}),e.jsx("p",{className:"text-text-main font-mono",children:r.end_time?l(r.end_time):e.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"En Curso"})})]}),e.jsxs("div",{className:"bg-background dark:bg-gray-800 p-4 rounded-lg border border-border-color",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-2",children:[e.jsx(c,{size:20}),e.jsx("h3",{className:"font-bold",children:"Tiempo Trabajado"})]}),e.jsx("p",{className:"text-text-main font-mono font-bold text-lg",children:t(r.durationMs||0)})]}),e.jsxs("div",{className:"bg-background dark:bg-gray-800 p-4 rounded-lg border border-border-color",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-400 mb-2",children:[e.jsx(x,{size:20}),e.jsx("h3",{className:"font-bold",children:"Tiempo en Break"})]}),e.jsx("p",{className:"text-text-main font-mono font-bold text-lg",children:t(r.breakMs||0)})]})]}),e.jsxs("div",{className:"border-t border-border-color pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-main mb-3",children:[e.jsx(j,{size:20}),e.jsx("h3",{className:"font-bold text-lg",children:"Observaciones"})]}),e.jsx("div",{className:"bg-background dark:bg-gray-800 p-4 rounded-lg border border-border-color min-h-[80px]",children:r.observations?e.jsx("p",{className:"text-text-main whitespace-pre-wrap",children:r.observations}):e.jsx("p",{className:"text-text-muted italic",children:"Sin observaciones registradas."})})]}),e.jsxs("div",{className:"border-t border-border-color pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-text-main mb-3",children:[e.jsx(x,{size:20}),e.jsx("h3",{className:"font-bold text-lg",children:"Historial de Breaks"})]}),!r.breaks||r.breaks.length===0?e.jsx("p",{className:"text-text-muted italic",children:"No se registraron breaks en este turno."}):e.jsx("div",{className:"space-y-3",children:r.breaks.map((s,a)=>{const o=new Date(s.break_start).getTime(),d=(s.break_end?new Date(s.break_end).getTime():Date.now())-o;return e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("span",{className:"font-bold text-yellow-800 dark:text-yellow-300 text-sm",children:["Break #",a+1]}),e.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200 text-xs px-2 py-1 rounded-full font-mono",children:t(d)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-text-muted mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Inicio:"})," ",new Date(s.break_start).toLocaleTimeString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Fin:"})," ",s.break_end?new Date(s.break_end).toLocaleTimeString():"En curso"]})]}),s.reason&&e.jsxs("div",{className:"text-sm text-text-main bg-surface dark:bg-gray-800 p-2 rounded border border-yellow-100 dark:border-yellow-800",children:[e.jsx("span",{className:"font-semibold text-yellow-700 dark:text-yellow-400",children:"Raz√≥n:"})," ",s.reason]})]},a)})})]})]}),e.jsx("div",{className:"p-6 border-t border-border-color bg-background dark:bg-gray-800 rounded-b-xl flex justify-end",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-secondary-dark text-white rounded-lg hover:bg-gray-800 transition-colors font-bold",children:"Cerrar"})})]})})}export{y as S};
